<!doctype html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tsukihime Intro Minimal</title>
  <style>
    :root{
      --introDur: 1800ms;
      --moonSize: 240px;
      --moonGlow: 70px;
      --bgFade: 900ms;
    }

    body{
      margin:0;
      min-height:100vh;
      font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
      color:#eaeaea;
      background:
        radial-gradient(1200px 800px at 50% 35%, rgba(70,90,140,.14), transparent 60%),
        radial-gradient(900px 700px at 30% 75%, rgba(120,90,160,.10), transparent 65%),
        #05060a;
      transition: background var(--bgFade) ease;
    }

    /* 动画结束后：把“月亮”作为背景的一部分固定下来 */
    body.intro-done{
      background:
        radial-gradient(var(--moonSize) var(--moonSize) at 85% 18%,
          rgba(240,245,255,.95) 0%,
          rgba(240,245,255,.90) 36%,
          rgba(240,245,255,.20) 56%,
          rgba(240,245,255,0) 70%),
        radial-gradient(1200px 800px at 50% 35%, rgba(70,90,140,.18), transparent 60%),
        radial-gradient(900px 700px at 30% 75%, rgba(120,90,160,.12), transparent 65%),
        #05060a;
    }

    /* ================= Intro Layer ================= */
    .intro{
      position:fixed;
      inset:0;
      z-index:9999;
      display:grid;
      place-items:center;
      background: radial-gradient(800px 600px at 50% 45%, rgba(20,30,60,.35), rgba(0,0,0,.92) 70%);
      overflow:hidden;
      pointer-events:none;
      animation: introFade calc(var(--introDur) * .40) ease forwards;
      animation-delay: calc(var(--introDur) * .62);
    }

    .vignette{
      position:absolute;
      inset:-20%;
      background: radial-gradient(circle, transparent 45%, rgba(0,0,0,.85) 85%);
    }

    .moon{
      width: var(--moonSize);
      aspect-ratio:1;
      border-radius:50%;
      background:
        radial-gradient(22px 18px at 35% 40%, rgba(150,160,190,.35), transparent 70%),
        radial-gradient(18px 14px at 62% 58%, rgba(150,160,190,.25), transparent 70%),
        radial-gradient(26px 22px at 58% 34%, rgba(150,160,190,.22), transparent 70%),
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.96), rgba(220,230,255,.88) 45%, rgba(190,205,235,.86) 70%, rgba(160,170,200,.86) 100%);
      box-shadow:
        0 0 var(--moonGlow) rgba(180,210,255,.40),
        0 0 calc(var(--moonGlow) * 1.8) rgba(120,160,255,.18);
      filter: saturate(1.1);
      transform: translateY(14px) scale(.72);
      opacity:0;

      animation:
        moonIn calc(var(--introDur) * .50) cubic-bezier(.2,.9,.2,1) forwards,
        moonToBg calc(var(--introDur) * .55) cubic-bezier(.2,.8,.2,1) forwards;
      animation-delay:
        120ms,
        calc(var(--introDur) * .45);
    }

    @keyframes moonIn{
      0%{ opacity:0; transform: translateY(18px) scale(.70); filter: blur(8px) saturate(1.0); }
      60%{ opacity:1; transform: translateY(0) scale(1.02); filter: blur(0) saturate(1.1); }
      100%{ opacity:1; transform: translateY(0) scale(1); }
    }

    @keyframes moonToBg{
      0%{ transform: translate(0,0) scale(1); opacity:1; }
      70%{ transform: translate(34vw,-28vh) scale(1.15); opacity:1; }
      100%{ transform: translate(36vw,-30vh) scale(1.18); opacity:0; }
    }

    @keyframes introFade{
      to{ opacity:0; visibility:hidden; }
    }

    /* ================= Page Content ================= */
    main{
      max-width: 880px;
      margin: 0 auto;
      padding: 72px 20px;
    }

    .page--hidden{ opacity:0; transform: translateY(10px); }
    .page--show{
      opacity:1;
      transform: translateY(0);
      transition: opacity 520ms ease, transform 520ms ease;
      transition-delay: 80ms;
    }

    h1{
      margin:0 0 10px;
      font-size: 40px;
      letter-spacing: .5px;
    }

    p{ opacity:.9; line-height:1.7; }

    .card{
      margin-top: 26px;
      padding: 18px 18px;
      border-radius: 14px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.10);
      backdrop-filter: blur(6px);
    }

    /* 无障碍：系统设置减少动画就直接显示内容 */
    @media (prefers-reduced-motion: reduce){
      .moon, .intro{ animation:none !important; }
      .page--hidden{ opacity:1; transform:none; }
    }
  </style>
</head>

<body>
  <!-- 月姬开场 -->
  <div id="tsukihimeIntro" class="intro" aria-hidden="true">
    <div class="moon"></div>
    <div class="vignette"></div>
  </div>

  <!-- 页面内容 -->
  <main id="pageMain" class="page--hidden">
    <h1>Moon Intro</h1>
    <p>黑屏，月亮出现，飞去角落，然后它就成了背景月。人类就爱这种仪式感。</p>
    <div class="card">
      <strong>提示：</strong>
      <p style="margin:8px 0 0;">
        你可以改 CSS 变量：<code>--moonSize</code>、<code>--introDur</code> 来调整大小和速度。
      </p>
    </div>
  </main>
</body>
</html>
